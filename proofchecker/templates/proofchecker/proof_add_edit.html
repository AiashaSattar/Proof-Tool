{% extends 'proofchecker/base.html' %}
{% load static %}
{% block content %}
     <style>
        .hidden{
            display: none;
        }
    </style>
    <h3>Proof {{ object.pk }}</h3>
    <hr>
    <form action="" method="post">
        <div>
            {% csrf_token %}
            {{ form.as_table }}
        </div>
        <hr>
        <button id="add-more" type="button">Add Proof Line</button>
        <hr>
        {% if formset %}
            {{ formset.management_form }}
            <div id="proof-line-list">
                {% for f in formset %}
                    {% if not f.DELETE.value %}
                        <div class="proofline-form" id="proofline-form-{{ forloop.counter0 }}">
                            {{ f.as_table }}
                            <input class="insert-row" type="button" id="id-form-btn-insert-row-{{ forloop.counter0 }}" value="Insert Row" onclick="add_new_form(this)">
                            <input class="delete-row" type="button" id="id-form-btn-delete-row-{{ forloop.counter0 }}" value="Delete" onclick="removeProofline(this)">
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <div id="empty-form" class="hidden">
                {{ formset.empty_form }}
                <input class="insert-row" type="button" id="id-form-btn-insert-row-__prefix__" value="Insert Row" onclick="add_new_form(this)">
                <input class="delete-row" type="button" id="id-form-btn-delete-row-__prefix__" value="Delete" onclick="removeProofline(this)">
            </div>
        {% endif %}
        <hr>
        {% if response.err_msg %}
            <p> <strong>RESULT:</strong> {{ response.err_msg }} </p>
            <hr>
        {% endif %}
        <input type="text" class="hidden" id="check-proof">
        <button name="check_proof" type="submit">Check Proof</button>
        <button name="submit" type="submit">Save</button>
    </form>

    <script src="{% static 'js/add_edit.js' %}">
    </script>

    {% include 'proofchecker/right_navigation_menu.html' %}
{% endblock %}


{% block js_block %}
    <script type="text/javascript" src="{% static 'js/line_functionality.js' %}"></script>
{% endblock %}
